{"ast":null,"code":"var _jsxFileName = \"/home/amadu/Desktop/wilfred/wlf/src/App.js\";\nimport React, { useEffect } from 'react';\nimport Appbar from './Appbar';\nimport Business from \"./BusinessesMenus\";\nimport { useState } from \"react\";\nimport Confirmation from './Confirmation';\nimport Provison from \"./Provision/FormandAnalysis\";\nimport { BrowserRouter as R, Route } from \"react-router-dom\";\nimport './App.css';\n\nfunction App() {\n  const [t, st] = React.useState(\"Massaquoi Royal\");\n  const [dt, setD] = useState({\n    i: [],\n    s: [],\n    b: [],\n    d: ''\n  });\n  const [open, setOpen] = React.useState(false);\n  const [type, stype] = useState(\"carton\");\n  const wf = [{\n    t: \"carton\"\n  }, {\n    t: \"dozen\"\n  }, {\n    t: \"piece\"\n  }];\n  const [sdata, setsdata] = React.useState([]);\n  const [msg, smsg] = useState('record'); //  const [bi,sbi] = useState([])\n\n  useEffect(() => {\n    var arr = [];\n\n    if (dt.b.length || dt.s.length || dt.i.length) {\n      let rep = dt.i;\n\n      for (let c = 0; c < dt.i.length; c++) {\n        arr[c] = [];\n        arr[c].push(dt.i[c].n, dt.i[c].ac * 1 || 0, dt.i[c].adz || 0, dt.i[c].piece || 0);\n        arr[c][4] = 0;\n        arr[c][5] = 0;\n        arr[c][6] = 0;\n        arr[c][7] = 0;\n        arr[c][8] = 0;\n        arr[c][9] = (rep[c].ac * 1 || 0) * rep[c].prc || 0 + (rep[c].adz || 0) * rep[c].prdz || 0 + (rep[c].piece || 0) * rep[c].prp || 0;\n\n        for (let s = 0; s < dt.s.length; s++) {\n          if (arr[c][0] === dt.s[s].n) {\n            arr[c][4] = dt.s[s].ac || 0;\n            arr[c][5] = dt.s[s].adz || 0; // prdz:0,prc:0,prp:0\n            // prdz:0,prc:0,prp:0,\n\n            arr[c][8] = ((dt.s[s].prc - dt.i[c].prc) * arr[c][4] || 0) + ((dt.s[s].prdz - dt.i[c].prdz) * arr[c][5] || 0) + (dt.s[s].prp - dt.i[c].prp) * dt.s[s].apc;\n          }\n        }\n\n        for (let b = 0; b < dt.b.length; b++) {\n          if (arr[c][0] === dt.b[b].n) {\n            arr[c][6] = dt.b[b].ac || 0;\n            arr[c][7] = dt.b[b].adz || 0; //  pt[`${arr[c][0]}`]={prc: parseInt(dt.b[b].prc),prdz:parseInt(dt.b[b].prdz),prp: parseInt(dt.b[b].prp)}\n          }\n        }\n      }\n    }\n\n    var rows = [];\n    arr.forEach(e => {\n      rows.push(createData(e[0], e[1], e[2], e[3], e[4], e[5], e[6], e[7], e[8], e[9]));\n    });\n    setsdata(rows); // console.log(sdata)\n    // console.log(dt.i)\n  }, [dt]);\n\n  const f = v => {\n    st(v);\n  };\n\n  function createData(name, ac, dz, piece, sac, sadz, bac, badz, pft, tm) {\n    return {\n      name,\n      ac,\n      dz,\n      piece,\n      sac,\n      sadz,\n      bac,\n      badz,\n      pft,\n      tm\n    };\n  }\n\n  const hOpen = () => {\n    setOpen(!open);\n  }; // to select in what form bough\n\n\n  const stypes = e => {\n    stype(e);\n  };\n\n  const add = v => {\n    var t = true;\n    dt.i.forEach(e => {\n      if (v.n === e.n) {\n        t = false;\n      }\n    });\n\n    if (t) {\n      setD({ ...dt,\n        i: [...dt.i, v]\n      });\n    } else {\n      smsg('if you want to change this product ask admin. record exist');\n      hOpen();\n    }\n  };\n\n  const sales = v => {\n    var b = dt.s;\n    var tt = true;\n    var i = dt.i;\n    var exit = true;\n    b.forEach(e => {\n      if (e.n === v.n) {\n        exit = false;\n      }\n    });\n\n    if (exit) {\n      b.push(v);\n    }\n\n    for (let p = 0; p < i.length; p++) {\n      if (i[p].n === v.n) {\n        if (v.t === \"carton\") {\n          if (i[p].ac - v.q * 1 >= 0) {\n            i[p].ac = parseInt(i[p].ac) - parseInt(v.q);\n            i[p].gt = parseInt(i[p].gt) - parseInt(i[p].aic * v.q);\n          } else {\n            smsg(\"Cartons are finished\");\n            hOpen();\n            tt = false;\n          }\n        } else {\n          let dc = 0;\n\n          if (v.t === \"dozen\") {\n            dc = v.q * 12;\n          } else {\n            dc = v.q * 1;\n          } // console.log(i[p].gt)\n\n\n          if (i[p].gt - dc >= 0) {\n            i[p].gt -= dc;\n\n            if (i[p].ac > 0) {\n              i[p].ac = parseInt(i[p].gt / i[p].aic * 1);\n              let cat = i[p].gt - i[p].aic * 1 * i[p].ac;\n              i[p].adz = parseInt(cat / 12);\n              i[p].piece = parseInt(cat % 12);\n            } else {\n              i[p].adz = parseInt(i[p].gt / 12);\n              i[p].piece = parseInt(i[p].gt % 12);\n            }\n          } else {\n            tt = false;\n            smsg(\"Both by dozen and carton are finish\");\n            hOpen();\n          }\n        }\n      }\n\n      if (tt) {\n        for (let q = 0; q < b.length; q++) {\n          if (b[q].n === v.n) {\n            if (v.t === \"carton\") {\n              b[q].q = v.q * 1;\n              b[q].prc = v.p;\n              b[q].ac = v.q * 1;\n            } else if (v.t === \"dozen\") {\n              b[q].q = v.q * 1;\n              b[q].prdz = v.p;\n              b[q].adz = v.q * 1;\n            } else {\n              // b[q].ps =   (v.q*1) \n              b[q].prp = v.p;\n              b[q].apc = v.q;\n            }\n          }\n        }\n\n        setD({ ...dt,\n          i: i\n        });\n        setD({ ...dt,\n          s: b\n        });\n      } else {\n        smsg(\"this item is finished\");\n        hOpen();\n      }\n    }\n  };\n\n  const buy = v => {\n    var b = dt.b;\n    var i = dt.i;\n    var exit = true;\n    b.forEach(e => {\n      if (e.n === v.n) {\n        exit = false;\n      }\n    });\n\n    if (exit) {\n      b.push(v);\n    }\n\n    for (let p = 0; p < i.length; p++) {\n      if (i[p].n === v.n) {\n        if (v.t === \"carton\") {\n          i[p].gt = i[p].gt * 1 + i[p].aic * 1 * v.q;\n          i[p].ac = parseInt(i[p].ac || 0) + parseInt(v.q);\n          i[p].prc = v.p;\n        } else if (v.t === \"dozen\") {\n          i[p].gt = (i[p].gt * 1 || 0) + v.q * 12;\n          i[p].adz = (i[p].adz || 0) + v.q * 1;\n          i[p].pradz = v.p;\n        } else {\n          i[p].gt = (i[p].gt * 1 || 0) + v.q * 1;\n          i[p].prp = v.p;\n          i[p].piece = v.q * 1;\n        }\n      }\n    }\n\n    for (let q = 0; q < b.length; q++) {\n      if (b[q].n === v.n) {\n        if (v.t === \"carton\") {\n          b[q].q = v.q * 1;\n          b[q].prc = v.p;\n          b[q].ac = v.q;\n        } else if (v.t === \"dozen\") {\n          b[q].q = v.q * 1;\n          b[q].prdz = v.p;\n          b[q].adz = v.q * 1;\n        } else {\n          b[q].q = v.q * 1;\n          b[q].prp = v.p;\n        }\n      }\n    } // {n:'',p:'',t:'',q:''}\n    //gt = grand total\n    // prdz = price for dozen\n    // prc = price for Carton\n    // prp = price for piece\n\n\n    setD({ ...dt,\n      i: i\n    });\n    setD({ ...dt,\n      b: b\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Appbar, {\n    t: t,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 6\n    }\n  }), /*#__PURE__*/React.createElement(R, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    component: Business,\n    exact: true,\n    path: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/provision\",\n    render: props => /*#__PURE__*/React.createElement(Provison, Object.assign({}, props, {\n      sdata: sdata,\n      buy: buy,\n      type: type,\n      wf: wf,\n      stypes: stypes,\n      a: add,\n      itm: dt,\n      f: f,\n      sales: sales,\n      hOpen: hOpen,\n      ms: smsg,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 61\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Confirmation, {\n    hOpen: hOpen,\n    msg: msg,\n    open: open,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 8\n    }\n  }));\n}\n\nexport default App;","map":{"version":3,"sources":["/home/amadu/Desktop/wilfred/wlf/src/App.js"],"names":["React","useEffect","Appbar","Business","useState","Confirmation","Provison","BrowserRouter","R","Route","App","t","st","dt","setD","i","s","b","d","open","setOpen","type","stype","wf","sdata","setsdata","msg","smsg","arr","length","rep","c","push","n","ac","adz","piece","prc","prdz","prp","apc","rows","forEach","e","createData","f","v","name","dz","sac","sadz","bac","badz","pft","tm","hOpen","stypes","add","sales","tt","exit","p","q","parseInt","gt","aic","dc","cat","buy","pradz","props"],"mappings":"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","sourcesContent":["import React,{useEffect} from 'react';\nimport Appbar from './Appbar'\nimport Business from \"./BusinessesMenus\"\nimport  { useState } from \"react\";\nimport Confirmation from './Confirmation'\nimport Provison from \"./Provision/FormandAnalysis\"\nimport { BrowserRouter as R,   Route } from \"react-router-dom\";\nimport './App.css';\n \n \n\nfunction App() {\n  const [t, st] = React.useState(\"Massaquoi Royal\");\n  const [dt,setD] = useState({i:[],s:[],b:[],d:''})\n  const [open, setOpen] = React.useState(false);\n     const [type,stype] = useState(\"carton\")\n   const wf =  [{t:\"carton\"},{t:\"dozen\"},{t:\"piece\"}]\n   const [sdata,setsdata] = React.useState([])\n  \n   const [msg,smsg] = useState('record')\n  //  const [bi,sbi] = useState([])\n\n\n \nuseEffect(()=>{\n \n    var arr = []\nif(dt.b.length || dt.s.length || dt.i.length  ){\n\n  let rep = dt.i\n  for (let c = 0; c < dt.i.length; c++) {\n    arr[c] = []\n    arr[c].push(dt.i[c].n,(dt.i[c].ac*1||0), (dt.i[c].adz||0),(dt.i[c].piece||0))  \n\n   \n    arr[c][4] = 0\n    arr[c][5] = 0\n    arr[c][6] = 0\n    arr[c][7] = 0\n    arr[c][8] = 0\n    arr[c][9] = ((rep[c].ac*1||0)*rep[c].prc)||0 + ((rep[c].adz||0)*rep[c].prdz)||0 + ((rep[c].piece||0)*rep[c].prp)||0\n\n\n    for (let s = 0; s < dt.s.length; s++) {\n      if(arr[c][0] === dt.s[s].n){\n           \n           arr[c][4] = (dt.s[s].ac||0)\n            arr[c][5] = (dt.s[s].adz||0)\n            // prdz:0,prc:0,prp:0\n            // prdz:0,prc:0,prp:0,\n        arr[c][8] =  ((dt.s[s].prc-dt.i[c].prc)*arr[c][4]||0) + ((dt.s[s].prdz-dt.i[c].prdz)*arr[c][5]||0) +(dt.s[s].prp-dt.i[c].prp)*dt.s[s].apc\n\n\n      }  \n    }   \n \n    for (let b = 0; b < dt.b.length; b++) {\n      if(arr[c][0] === dt.b[b].n){\n        arr[c][6] = (dt.b[b].ac||0)\n        arr[c][7] = (dt.b[b].adz||0)\n//  pt[`${arr[c][0]}`]={prc: parseInt(dt.b[b].prc),prdz:parseInt(dt.b[b].prdz),prp: parseInt(dt.b[b].prp)}\n \n             }    \n    }\n     }\n \n}\n\nvar rows = []\narr.forEach(e => {\n\n  rows.push(createData(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9]))\n});\nsetsdata(rows)\n\n// console.log(sdata)\n// console.log(dt.i)\n\n  },[dt])\n\n\n\n\n  const f=(v)=>{\n    st(v)\n  }\n\n\n\n\n  function createData(name,ac,dz,piece,sac,sadz,bac,badz,pft,tm) {\nreturn { name,ac,dz,piece,sac,sadz,bac,badz,pft,tm };\n}\n\n\n\n  const hOpen = () => {\n    setOpen(!open);\n  };\n\n  // to select in what form bough\n  const stypes = (e)=>{\n    stype(e)\n    \n  }\n\n\n  const add = (v)=>{\n   \n    var t = true\n\n    dt.i.forEach(e => {\n      if(v.n===e.n){\n        t = false\n      }\n    });\n      if(t){\n      setD({...dt,i:[...dt.i,v]})\n    }else{\n      smsg('if you want to change this product ask admin. record exist')\n      hOpen()  \n    }\n \n         \n  }\n\n  const sales =(v)=>{\n  \n    var b = dt.s\n  var tt = true\n    var i = dt.i\n  var exit = true\n    b.forEach(e => {\n      if(e.n===v.n){\n        exit = false\n      }       \n    });\n    \n    if(exit){     \n      b.push(v)\n    }\n\n    for (let p = 0; p < i.length; p++) {\n   \n     if(i[p].n===v.n){\n       \n      if(v.t=== \"carton\" ){        \n        if(i[p].ac -(v.q*1) >=0 ){\n\n          i[p].ac = parseInt(i[p].ac)- parseInt(v.q)\n          i[p].gt =  parseInt(i[p].gt) -  parseInt((i[p].aic) * v.q )   \n        }else{\n          smsg(\"Cartons are finished\")\n          hOpen()\n          tt = false\n        }\n        \n      }else{ \n        let dc =  0  \n           if(v.t=== \"dozen\" ){\n            dc =  (v.q *12)                   \n           }else{\n            dc = v.q *1 \n           }\n// console.log(i[p].gt)\n           if(i[p].gt-dc>=0){\n            i[p].gt -= dc \n            \n            if(i[p].ac>0){\n               i[p].ac= parseInt(i[p].gt/i[p].aic*1)             \n            let cat = i[p].gt-((i[p].aic*1)*i[p].ac)\n            i[p].adz = parseInt(cat/12)\n            i[p].piece = parseInt(cat%12)\n            }else{\n              i[p].adz = parseInt(i[p].gt/12)\n              i[p].piece = parseInt(i[p].gt%12)\n            }\n           \n           }else{ \n             tt = false\n            smsg(\"Both by dozen and carton are finish\")\n            hOpen()\n           \n           }       \n        }\n      }      \n\n        \n\n\n      if(tt){\n         for (let q = 0; q <b.length; q++) {\n     if(b[q].n===v.n){     \n       if(v.t=== \"carton\" ){\n         b[q].q =   (v.q*1)    \n         b[q].prc = v.p   \n         b[q].ac  =  (v.q*1) \n       }else  if(v.t=== \"dozen\" ){\n        b[q].q = (v.q*1) \n        b[q].prdz = v.p\n        b[q].adz = v.q*1\n       }else{\n        // b[q].ps =   (v.q*1) \n        b[q].prp = v.p\n        b[q].apc = v.q\n       }\n      } \n      } \n      \n      setD({...dt,i:i})\n      setD({...dt,s:b}) \n      }else{\n        smsg(\"this item is finished\")\n            hOpen()           \n      } \n    }\n      \n    \n  }\n\n\nconst buy =(v)=>{     \n\n  var b = dt.b\n  \n    var i = dt.i\n  var exit = true\n    b.forEach(e => {\n      if(e.n===v.n){\n        exit = false\n      }      \n    });\n    \n    if(exit){\n      b.push(v)\n    }\n\n    for (let p = 0; p < i.length; p++) {\n     if(i[p].n===v.n){\n      if(v.t=== \"carton\" ){\n        i[p].gt =  (i[p].gt*1) +  ((i[p].aic*1) * v.q )          \n        i[p].ac = parseInt((i[p].ac||0))+ parseInt(v.q)\n       \n        i[p].prc = v.p\n      }else  if(v.t=== \"dozen\" ){\n        i[p].gt =  ((i[p].gt*1)||0) +   (v.q *12)    \n        i[p].adz=  (i[p].adz||0)  + (v.q*1)  \n        i[p].pradz = v.p\n      \n      }else{\n        i[p].gt =  ((i[p].gt*1)||0) +   (v.q *1)        \n        i[p].prp = v.p\n         i[p].piece = v.q*1\n      }\n     }      \n    }\n\n\n \n\n\n\n    for (let q = 0; q <b.length; q++) {\n     if(b[q].n===v.n){     \n       if(v.t=== \"carton\" ){\n         b[q].q =   (v.q*1)    \n         b[q].prc = v.p \n         b[q].ac =  v.q\n       }else  if(v.t=== \"dozen\" ){\n        b[q].q = (v.q*1)  \n        b[q].prdz = v.p\n        b[q].adz =   v.q*1\n       }else{\n        b[q].q =   (v.q*1) \n        b[q].prp = v.p\n       }\n      } \n\n    }\n    // {n:'',p:'',t:'',q:''}\n    //gt = grand total\n// prdz = price for dozen\n// prc = price for Carton\n// prp = price for piece\n\n\n      setD({...dt,i:i})\n      setD({...dt,b:b})\n\n  \n      \n     }\n      \n    \n    \n  \n  \n  return (\n    <div className=\"App\"> \n     <Appbar t={t}/>  \n      <R>\n        <Route component={Business} exact path=\"/\" />  \n          <Route exact path=\"/provision\" render={(props) => <Provison {...props} sdata={sdata} buy={buy} type={type} wf={wf} stypes={stypes}  a={add} itm={dt}  f={f} sales={sales} hOpen={hOpen} ms={smsg}/>} />   \n      </R>\n     \n       <Confirmation hOpen={hOpen} msg={msg} open={open}/>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}