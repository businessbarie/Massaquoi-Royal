{"ast":null,"code":"var _jsxFileName = \"/home/amadu/Desktop/wilfred/wlf/src/App.js\";\nimport React, { useEffect } from 'react';\nimport Appbar from './Appbar';\nimport Business from \"./BusinessesMenus\";\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport { useState } from \"react\";\nimport Confirmation from './Confirmation';\nimport Provison from \"./Provision/FormandAnalysis\";\nimport { BrowserRouter as R, Route } from \"react-router-dom\";\nimport './App.css';\n\nfunction App() {\n  const [t, st] = React.useState(\"Massaquoi Royal\");\n  const [dt, setD] = useState({\n    i: [],\n    s: [],\n    b: [],\n    d: ''\n  });\n  const [open, setOpen] = React.useState(false);\n  const [type, stype] = useState(\"carton\");\n  const wf = [{\n    t: \"carton\"\n  }, {\n    t: \"dozen\"\n  }, {\n    t: \"piece\"\n  }];\n  const [sdata, setsdata] = React.useState([]);\n  const [msg, smsg] = useState('record'); //  const [bi,sbi] = useState([])\n\n  useEffect(() => {\n    console.log(dt);\n    var arr = sdata;\n\n    if (dt.b.length || dt.s.length || dt.i.length) {\n      // const [dt,setD] = useState({i:[],s:[],b:[],d:''})\n      // const [n,sn] = useState({n:'',p:'',t:'',q:'',sts:'',prdz:'',prc:'',prp:'',ac:'',adz:''})\n      // return { name,ac,dz, piece,cs,ds,ps,cb,db,pb };\n      for (let c = 0; c < dt.i.length; c++) {\n        arr[c] = [];\n        arr[c].push(dt.i[c].n, dt.i[c].ac * 1 || 0, dt.i[c].adz || 0);\n        arr[c][3] = 0;\n        arr[c][4] = 0;\n        arr[c][5] = 0;\n        arr[c][6] = 0;\n\n        for (let s = 0; s < dt.s.length; s++) {\n          if (arr[c][0] === dt.s[s].n) {\n            arr[c][3] = dt.s[s].ac;\n            arr[c][4] = dt.s[s].adz;\n          }\n        }\n\n        for (let b = 0; b < dt.b.length; b++) {\n          if (arr[c][0] === dt.b[b].n) {\n            arr[c][5] = dt.b[b].ac;\n            arr[c][6] = dt.b[b].adz;\n          }\n        }\n      }\n    }\n\n    var rows = [];\n    arr.forEach(e => {\n      rows.push(createData(e[0], e[1], e[2], e[3], e[4], e[5]));\n    });\n    setsdata(rows);\n  }, [dt.b.length, dt.s.length, dt.i.length]);\n\n  const f = v => {\n    st(v);\n  };\n\n  function createData(name, ac, dz, sac, sadz, bac, badz) {\n    // n,ac,adz,s.ac,s.adz,b.ac,b.adz\n    // createData(e[0],e[1],e[2],e[3],e[4],e[5])\n    return {\n      name,\n      ac,\n      dz,\n      sac,\n      sadz,\n      bac,\n      badz\n    };\n  }\n\n  const hOpen = () => {\n    setOpen(!open);\n  }; // to select in what form bough\n\n\n  const stypes = e => {\n    stype(e);\n  };\n\n  const add = v => {\n    var t = true;\n    dt.i.forEach(e => {\n      if (v.n === e.n) {\n        t = false;\n      }\n    });\n\n    if (t) {\n      setD({ ...dt,\n        i: [...dt.i, v]\n      });\n    } else {\n      smsg('if you want to change this product ask admin. record exist');\n      hOpen();\n    }\n  };\n\n  const sales = v => {\n    var b = dt.s;\n    var i = dt.i;\n    var exit = true;\n    b.forEach(e => {\n      if (e.n === v.n) {\n        exit = false;\n      }\n    });\n\n    if (exit) {\n      b = [...dt.s, v];\n    } // var aic={}\n\n\n    for (let p = 0; p < i.length; p++) {\n      if (i[p].n === v.n) {\n        if (v.t === \"carton\") {\n          if (i[p].ac - v.q >= 0) {\n            i[p].ac = i[p].ac * 1 - v.q;\n            i[p].gt = i[p].gt * 1 - i[p].aic * 1 * v.q;\n          } else {\n            smsg(\"Cartons are finished\");\n            hOpen();\n          }\n        } else {\n          let dc = 0;\n\n          if (v.t === \"dozen\") {\n            dc = v.q * 12;\n\n            if (i[p].adz - v.q >= 0) {\n              i[p].adz = i[p].adz - v.q;\n            }\n          } else {\n            dc = v.q * 1;\n          }\n\n          i[p].gt -= dc;\n\n          while (i[p].gt - i[p].aic * 1 * i[p].ac < 0) {\n            i[p].ac -= 1;\n          }\n\n          let cat = i[p].gt - i[p].aic * 1 * i[p].ac;\n          i[p].adz = parseInt(cat / 12);\n        }\n      }\n\n      for (let q = 0; q < b.length; q++) {\n        if (b[q].n === v.n) {\n          if (v.t === \"carton\") {\n            b[q].q = v.q * 1;\n            b[q].prc = v.p;\n            b[q].ac = v.q * 1;\n          } else if (v.t === \"dozen\") {\n            b[q].q = v.q * 1;\n            b[q].prdz = v.p;\n            b[q].adz = v.q * 1;\n          } else {\n            b[q].q = v.q * 1;\n            b[q].prp = v.p;\n          }\n        }\n      }\n    } // {n:'',p:'',t:'',q:''}\n    //gt = grand total\n    // prdz = price for dozen\n    // prc = price for Carton\n    // prp = price for piece\n\n\n    setD({ ...dt,\n      i: i\n    });\n    setD({ ...dt,\n      s: b\n    });\n  };\n\n  const buy = v => {\n    var b = dt.b;\n    var i = dt.i;\n    var exit = true;\n    b.forEach(e => {\n      if (e.n === v.n) {\n        exit = false;\n      }\n    });\n\n    if (exit) {\n      b = [...dt.b, v];\n    }\n\n    for (let p = 0; p < i.length; p++) {\n      if (i[p].n === v.n) {\n        if (v.t === \"carton\") {\n          i[p].gt = i[p].gt * 1 + i[p].aic * 1 * v.q;\n          i[p].ac = (i[p].ac * 1 || 0) + v.q;\n        } else if (v.t === \"dozen\") {\n          i[p].gt = i[p].gt * 1 + v.q * 12;\n          i[p].adz = (i[p].adz * 1 || 0) + v.q;\n        } else {\n          i[p].gt = i[p].gt * 1 + v.q * 1;\n        }\n      }\n    }\n\n    for (let q = 0; q < b.length; q++) {\n      if (b[q].n === v.n) {\n        if (v.t === \"carton\") {\n          b[q].q = v.q * 1;\n          b[q].prc = v.p;\n          b[q].ac = v.q;\n        } else if (v.t === \"dozen\") {\n          b[q].q = v.q * 1;\n          b[q].prdz = v.p;\n          b[q].adz = v.q * 1;\n        } else {\n          b[q].q = v.q * 1;\n          b[q].prp = v.p;\n        }\n      }\n    } // {n:'',p:'',t:'',q:''}\n    //gt = grand total\n    // prdz = price for dozen\n    // prc = price for Carton\n    // prp = price for piece\n\n\n    setD({ ...dt,\n      i: i\n    });\n    setD({ ...dt,\n      b: b\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Appbar, {\n    t: t,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 6\n    }\n  }), /*#__PURE__*/React.createElement(R, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    component: Business,\n    exact: true,\n    path: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/provision\",\n    render: props => /*#__PURE__*/React.createElement(Provison, Object.assign({}, props, {\n      sdata: sdata,\n      buy: buy,\n      type: type,\n      wf: wf,\n      stypes: stypes,\n      a: add,\n      itm: dt,\n      f: f,\n      sales: sales,\n      hOpen: hOpen,\n      ms: smsg,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 61\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(TextField, {\n    id: \"standard-basic\",\n    label: \"Item Name:\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    size: \"small\",\n    color: \"primary\",\n    onClick: hOpen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 7\n    }\n  }, \"Save\"), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 2\n    }\n  }, \"Total\", dt.i.map(el => /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 13\n    }\n  }, `${el.n}  p: ${el.p} q: ${el.q} aic: ${el.aic} gt:${el.gt}`))), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 8\n    }\n  }, \"Buy\", dt.b.map(el => /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 13\n    }\n  }, `${el.n}  p: ${el.p} q: ${el.q} ac: ${el.ac} adz: ${el.adz}`))), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 8\n    }\n  }, \"sales\", dt.s.map(el => /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 13\n    }\n  }, `${el.n}  p: ${el.p} q: ${el.q} ac: ${el.ac} adz: ${el.adz}`))), /*#__PURE__*/React.createElement(Confirmation, {\n    hOpen: hOpen,\n    msg: msg,\n    open: open,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 8\n    }\n  }));\n}\n\nexport default App;","map":{"version":3,"sources":["/home/amadu/Desktop/wilfred/wlf/src/App.js"],"names":["React","useEffect","Appbar","Business","TextField","Button","useState","Confirmation","Provison","BrowserRouter","R","Route","App","t","st","dt","setD","i","s","b","d","open","setOpen","type","stype","wf","sdata","setsdata","msg","smsg","console","log","arr","length","c","push","n","ac","adz","rows","forEach","e","createData","f","v","name","dz","sac","sadz","bac","badz","hOpen","stypes","add","sales","exit","p","q","gt","aic","dc","cat","parseInt","prc","prdz","prp","buy","props","map","el"],"mappings":"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","sourcesContent":["import React,{useEffect} from 'react';\nimport Appbar from './Appbar'\nimport Business from \"./BusinessesMenus\"\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport  { useState } from \"react\";\nimport Confirmation from './Confirmation'\nimport Provison from \"./Provision/FormandAnalysis\"\nimport { BrowserRouter as R,   Route } from \"react-router-dom\";\nimport './App.css';\n \n \n\nfunction App() {\n  const [t, st] = React.useState(\"Massaquoi Royal\");\n  const [dt,setD] = useState({i:[],s:[],b:[],d:''})\n  const [open, setOpen] = React.useState(false);\n     const [type,stype] = useState(\"carton\")\n   const wf =  [{t:\"carton\"},{t:\"dozen\"},{t:\"piece\"}]\n   const [sdata,setsdata] = React.useState([])\n  \n   const [msg,smsg] = useState('record')\n  //  const [bi,sbi] = useState([])\n\n\n \nuseEffect(()=>{\n  console.log(dt)\n    var arr = sdata\nif(dt.b.length || dt.s.length || dt.i.length  ){\n  // const [dt,setD] = useState({i:[],s:[],b:[],d:''})\n  // const [n,sn] = useState({n:'',p:'',t:'',q:'',sts:'',prdz:'',prc:'',prp:'',ac:'',adz:''})\n\n  // return { name,ac,dz, piece,cs,ds,ps,cb,db,pb };\n  for (let c = 0; c < dt.i.length; c++) {\n    arr[c] = []\n    arr[c].push(dt.i[c].n,(dt.i[c].ac*1||0), (dt.i[c].adz||0))\n    \n  \n    arr[c][3] = 0\n    arr[c][4] = 0\n    arr[c][5] = 0\n    arr[c][6] = 0\n    \n    for (let s = 0; s < dt.s.length; s++) {\n      if(arr[c][0] === dt.s[s].n){\n           arr[c][3] = dt.s[s].ac\n            arr[c][4] = dt.s[s].adz\n         \n      }  \n    }   \n\n    for (let b = 0; b < dt.b.length; b++) {\n      if(arr[c][0] === dt.b[b].n){\n        arr[c][5] = dt.b[b].ac\n        arr[c][6] = dt.b[b].adz \n      }    \n    }\n  \n  }\n}\n\nvar rows = []\narr.forEach(e => {\n\n  rows.push(createData(e[0],e[1],e[2],e[3],e[4],e[5]))\n});\nsetsdata(rows)\n\n  },[dt.b.length, dt.s.length, dt.i.length])\n\n\n\n\n  const f=(v)=>{\n    st(v)\n  }\n\n\n\n\n  function createData(name,ac,dz,sac,sadz,bac,badz) {\n    // n,ac,adz,s.ac,s.adz,b.ac,b.adz\n// createData(e[0],e[1],e[2],e[3],e[4],e[5])\nreturn { name,ac,dz,sac,sadz,bac,badz };\n}\n\n\n\n  const hOpen = () => {\n    setOpen(!open);\n  };\n\n  // to select in what form bough\n  const stypes = (e)=>{\n    stype(e)\n    \n  }\n\n\n  const add = (v)=>{\n   \n    var t = true\n\n    dt.i.forEach(e => {\n      if(v.n===e.n){\n        t = false\n      }\n    });\n      if(t){\n      setD({...dt,i:[...dt.i,v]})\n    }else{\n      smsg('if you want to change this product ask admin. record exist')\n      hOpen()  \n    }\n \n         \n  }\n\n  const sales =(v)=>{\n    var b = dt.s\n  \n    var i = dt.i\n  var exit = true\n    b.forEach(e => {\n      if(e.n===v.n){\n        exit = false\n      } \n       \n      \n    });\n    \n    if(exit){\n     \n      b = [...dt.s,v]\n    }\n\n    // var aic={}\n    for (let p = 0; p < i.length; p++) {\n     if(i[p].n===v.n){\n      if(v.t=== \"carton\" ){\n        \n        if(i[p].ac -v.q >=0 ){\n          i[p].ac = (i[p].ac*1)-v.q\n            i[p].gt =  (i[p].gt*1) -  ((i[p].aic*1) * v.q )   \n        }else{\n          smsg(\"Cartons are finished\")\n          hOpen()\n        }\n        \n      }else{ \n        let dc =  0  \n           if(v.t=== \"dozen\" ){\n            dc =  (v.q *12) \n            if(i[p].adz-v.q >=0 ){\n              i[p].adz = i[p].adz-v.q \n            }                   \n           }else{\n            dc = v.q *1 \n           }\n\n           i[p].gt -= dc \n\n          while (i[p].gt-((i[p].aic*1)*i[p].ac)<0) {\n            i[p].ac-=1\n          }\n         let cat = i[p].gt-((i[p].aic*1)*i[p].ac)\n\n         i[p].adz = parseInt(cat/12)\n       \n        }\n      }      \n\n        \n\n\n\n    for (let q = 0; q <b.length; q++) {\n     if(b[q].n===v.n){     \n       if(v.t=== \"carton\" ){\n         b[q].q =   (v.q*1)    \n         b[q].prc = v.p   \n         b[q].ac  =  (v.q*1) \n       }else  if(v.t=== \"dozen\" ){\n        b[q].q = (v.q*1) \n        b[q].prdz = v.p\n        b[q].adz = v.q*1\n       }else{\n        b[q].q =   (v.q*1) \n        b[q].prp = v.p\n       }\n      } \n      }     \n \n    }\n    \n    // {n:'',p:'',t:'',q:''}\n    //gt = grand total\n// prdz = price for dozen\n// prc = price for Carton\n// prp = price for piece\n\n\n      setD({...dt,i:i})\n      setD({...dt,s:b})\n\n  \n      \n    \n  }\n\n\nconst buy =(v)=>{     \n \n  var b = dt.b\n  \n    var i = dt.i\n  var exit = true\n    b.forEach(e => {\n      if(e.n===v.n){\n        exit = false\n      } \n       \n      \n    });\n    \n    if(exit){\n     \n      b = [...dt.b,v]\n    }\n\n    for (let p = 0; p < i.length; p++) {\n     if(i[p].n===v.n){\n      if(v.t=== \"carton\" ){\n        i[p].gt =  (i[p].gt*1) +  ((i[p].aic*1) * v.q )          \n        i[p].ac =  ((i[p].ac*1)||0) + v.q\n      }else  if(v.t=== \"dozen\" ){\n        i[p].gt =  (i[p].gt*1) +   (v.q *12)    \n        i[p].adz= ((i[p].adz*1)||0)  + v.q  \n      }else{\n        i[p].gt =  (i[p].gt*1) +   (v.q *1)        \n      }\n     }      \n    }\n\n\n \n\n\n\n    for (let q = 0; q <b.length; q++) {\n     if(b[q].n===v.n){     \n       if(v.t=== \"carton\" ){\n         b[q].q =   (v.q*1)    \n         b[q].prc = v.p \n         b[q].ac =  v.q\n       }else  if(v.t=== \"dozen\" ){\n        b[q].q = (v.q*1)  \n        b[q].prdz = v.p\n        b[q].adz =   v.q*1\n       }else{\n        b[q].q =   (v.q*1) \n        b[q].prp = v.p\n       }\n      } \n\n    }\n    // {n:'',p:'',t:'',q:''}\n    //gt = grand total\n// prdz = price for dozen\n// prc = price for Carton\n// prp = price for piece\n\n\n      setD({...dt,i:i})\n      setD({...dt,b:b})\n\n  \n      \n     }\n      \n    \n    \n  \n  \n  return (\n    <div className=\"App\"> \n     <Appbar t={t}/>  \n      <R>\n        <Route component={Business} exact path=\"/\" />  \n          <Route exact path=\"/provision\" render={(props) => <Provison {...props} sdata={sdata} buy={buy} type={type} wf={wf} stypes={stypes}  a={add} itm={dt}  f={f} sales={sales} hOpen={hOpen} ms={smsg}/>} />   \n      </R>\n      <TextField id=\"standard-basic\" label=\"Item Name:\"   />\n      <Button size=\"small\" color=\"primary\" onClick={hOpen} > \n            Save\n          </Button>\n <ul>\n   Total\n       {\n          dt.i.map(el=>(\n            <li>\n              {`${el.n}  p: ${el.p} q: ${el.q} aic: ${el.aic} gt:${el.gt}`}\n            </li>\n          ))\n       } \n       </ul> \n\n\n       <ul>\n   Buy\n       {\n          dt.b.map(el=>(\n            <li>\n              {`${el.n}  p: ${el.p} q: ${el.q} ac: ${el.ac} adz: ${el.adz}`}\n            </li>\n          ))\n       } \n       </ul> \n       <ul>\n   sales\n       {\n          dt.s.map(el=>(\n            <li>\n               {`${el.n}  p: ${el.p} q: ${el.q} ac: ${el.ac} adz: ${el.adz}`}\n            </li>\n          ))\n       } \n       </ul> \n\n       <Confirmation hOpen={hOpen} msg={msg} open={open}/>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}